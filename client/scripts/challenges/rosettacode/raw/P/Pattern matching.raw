Pattern matching

{{task|Data Structures}}{{omit from|BBC BASIC}}

Some languages offer direct support for <a class="rosetta__link--wiki" href="https://en.wikipedia.org/wiki/Algebraic_data_type" title="wp: Algebraic_data_type">algebraic data types</a> and pattern matching on them. While this of course can always be simulated with manual tagging and conditionals, it allows for terse code which is easy to read, and can represent the algorithm directly.

As an example, implement insertion in a <a class="rosetta__link--wiki" href="https://en.wikipedia.org/wiki/Red_Black_Tree" title="wp: Red_Black_Tree">red-black-tree</a>. A red-black-tree is a binary tree where each internal node has a color attribute <span class="rosetta__text--italic">red</span> or <span class="rosetta__text--italic">black</span>. Moreover, no red node can have a red child, and every path from the root to an empty node must contain the same number of black nodes. As a consequence, the tree is balanced, and must be re-balanced after an insertion.


